name: Scrape Online Newspapers


on:
    push:
        branches: main

jobs:
    render:
        name:Scrape Online Newspapers
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Repo Content
            uses: actions/checkout@v2

            - name: Set up Python 3.9
            uses:actions/setup-python@v2
            with:
                python-version: "3.9" # install python version needed

            - name: Install dependencies
            run: |
               python -m pip install --upgrade pip
               pip install -r requirements.txt

            - name: Pull_data #execute py script
            run: |
            python newsscrapy.py
            name: Git commit
            run: |
               git add data/*
               git commit -m 'Commiting data'
            name: Git push
            run: |
            git push origin main
            env:
                TOKEN: ${{secrets.GITHUB_TOKEN}}
